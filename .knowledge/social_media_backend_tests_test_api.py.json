{"is_source_file": true, "format": "Python", "description": "Test suite for the social media backend API, utilizing FastAPI's TestClient and pytest to verify user lifecycle, authentication, profile management, posts, analytics, and platform endpoints.", "external_files": ["src/api/main.py", "fastapi.testclient", "pytest", "os", "tempfile"], "external_methods": ["create_app"], "published": [], "classes": [], "methods": [{"name": "client()", "description": "Pytest fixture to create a reusable TestClient instance for testing the FastAPI app.", "scope": "", "scopeKind": ""}, {"name": "auth_headers(email=\"test@example.com\")", "description": "Utility function to generate authorization headers with a demo token for testing authenticated endpoints.", "scope": "", "scopeKind": ""}, {"name": "test_health(client)", "description": "Test to verify the health check endpoint responds with status 'ok'.", "scope": "", "scopeKind": ""}, {"name": "test_auth_login(client)", "description": "Test the login endpoint with valid credentials and token response.", "scope": "", "scopeKind": ""}, {"name": "test_user_lifecycle(client)", "description": "Tests creating, retrieving, listing, and updating a user.", "scope": "", "scopeKind": ""}, {"name": "test_profile_and_post_and_analytics(client)", "description": "Tests creating user profile, posts, updating engagement, and fetching various analytics endpoints.", "scope": "", "scopeKind": ""}], "calls": ["create_app", "client.get", "client.post", "client.patch", "client.get", "client.post", "client.patch", "client.get", "client.get", "client.get"], "search-terms": ["test_api", "pytest", "FastAPI", "TestClient", "social_media_backend", "user-lifecycle", "analytics", "auth", "profile", "post", "platform-analytics"], "state": 2, "file_id": 14, "knowledge_revision": 33, "git_revision": "", "ctags": [{"_type": "tag", "name": "auth_headers", "path": "/tmp/kavia/workspace/code-generation/user-approval-system-759-769/social_media_backend/tests/test_api.py", "pattern": "/^def auth_headers(email=\"test@example.com\"):$/", "language": "Python", "kind": "function", "signature": "(email=\"test@example.com\")"}, {"_type": "tag", "name": "client", "path": "/tmp/kavia/workspace/code-generation/user-approval-system-759-769/social_media_backend/tests/test_api.py", "pattern": "/^def client():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "test_auth_login", "path": "/tmp/kavia/workspace/code-generation/user-approval-system-759-769/social_media_backend/tests/test_api.py", "pattern": "/^def test_auth_login(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}, {"_type": "tag", "name": "test_health", "path": "/tmp/kavia/workspace/code-generation/user-approval-system-759-769/social_media_backend/tests/test_api.py", "pattern": "/^def test_health(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}, {"_type": "tag", "name": "test_profile_and_post_and_analytics", "path": "/tmp/kavia/workspace/code-generation/user-approval-system-759-769/social_media_backend/tests/test_api.py", "pattern": "/^def test_profile_and_post_and_analytics(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}, {"_type": "tag", "name": "test_user_lifecycle", "path": "/tmp/kavia/workspace/code-generation/user-approval-system-759-769/social_media_backend/tests/test_api.py", "pattern": "/^def test_user_lifecycle(client):$/", "language": "Python", "kind": "function", "signature": "(client)"}], "hash": "c3d6b3f706fe672a20b0473017a8d8f8", "format-version": 4, "code-base-name": "social_media_backend", "filename": "social_media_backend/tests/test_api.py", "revision_history": [{"33": ""}]}